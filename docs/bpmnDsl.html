<!DOCTYPE html>
<html lang="en-CH">
  
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Typelevel Laika + Helium Theme" />
  <title>BPMN DSL</title>
  
  
  <meta name="description" content="camundala-docs"/>
  
  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:500">
  
  <link rel="stylesheet" type="text/css" href="helium/site/icofont.min.css" />
    <link rel="stylesheet" type="text/css" href="helium/site/laika-helium.css" />
  <script src="helium/site/laika-helium.js"></script>
  
  
  <script> /* for avoiding page load transitions */ </script>
</head>

  <body>

    <header id="top-bar" class="light-default dark-default">

  <div class="row">
    <a id="nav-icon">
      <i class="icofont-laika navigationMenu" title="Navigation">&#xefa2;</i>
    </a>
    
    
  </div>

  <a class="icon-link glyph-link" href="index.html"><i class="icofont-laika home" title="Home">&#xef47;</i></a>

  <div class="row links">
    
    <a class="icon-link svg-link" href="https://github.com/pme123/camundala"><span class="github" title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a>
    
  </div>  

</header>
    
    <nav id="sidebar">

  <div class="row">
    
    <a class="icon-link svg-link" href="https://github.com/pme123/camundala"><span class="github" title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a>
    
  </div>

  <ul class="nav-list">
    <li class="level1 nav-leaf"><a href="index.html">Intro</a></li>
    <li class="level1 nav-leaf"><a href="specification.html">Process &amp; Domain Specification</a></li>
    <li class="level1 active nav-leaf"><a href="#">BPMN DSL</a></li>
    <li class="level1 nav-leaf"><a href="technologies.html">Technologies</a></li>
    <li class="level1 nav-leaf"><a href="generalConcerns.html">General Concerns</a></li>
    <li class="level1 nav-header">Functional DSLs</li>
    <li class="level2 nav-leaf"><a href="functionalityDsls/apiDoc.html">API Documentation</a></li>
    <li class="level2 nav-leaf"><a href="functionalityDsls/simulation.html">Simulations</a></li>
    <li class="level2 nav-leaf"><a href="functionalityDsls/worker.html">Workers</a></li>
    <li class="level2 nav-leaf"><a href="functionalityDsls/dmnTester.html">DMN Tester</a></li>
    <li class="level2 nav-leaf"><a href="functionalityDsls/workers_advanced.html">Advanced Custom Workers</a></li>
    <li class="level1 nav-header">development</li>
    <li class="level2 nav-leaf"><a href="development/intro.html">Introduction</a></li>
    <li class="level2 nav-leaf"><a href="development/initCompany.html">Init Company</a></li>
    <li class="level2 nav-leaf"><a href="development/createProject.html">Create Project</a></li>
    <li class="level2 nav-leaf"><a href="development/projectDev.html">Project Development</a></li>
    <li class="level1 nav-header">company</li>
    <li class="level2 nav-leaf"><a href="company/intro.html">Introduction</a></li>
    <li class="level2 nav-leaf"><a href="company/sbt.html">sbt</a></li>
    <li class="level2 nav-leaf"><a href="company/00-docs.html">00-docs</a></li>
    <li class="level2 nav-leaf"><a href="company/02-bpmn.html">02-bpmn</a></li>
    <li class="level2 nav-leaf"><a href="company/03-api.html">03-api</a></li>
    <li class="level2 nav-leaf"><a href="company/03-dmn.html">03-dmn</a></li>
    <li class="level2 nav-leaf"><a href="company/03-simulation.html">03-simulation</a></li>
    <li class="level2 nav-leaf"><a href="company/03-worker.html">03-worker</a></li>
    <li class="level2 nav-leaf"><a href="company/04-helper.html">04-helper</a></li>
    <li class="level2 nav-leaf"><a href="company/development.html">Development</a></li>
    <li class="level2 nav-leaf"><a href="company/postman.html">Postman</a></li>
  </ul>

</nav>

    <div id="container">

      
<nav id="page-nav">
  <p class="header"><a href="#">BPMN DSL</a></p>

  <ul class="nav-list">
    <li class="level1 nav-leaf"><a href="#special-case-enums">Special Case Enums</a></li>
    <li class="level1 nav-node"><a href="#process">Process</a></li>
    <li class="level2 nav-leaf"><a href="#initin">InitIn</a></li>
    <li class="level2 nav-leaf"><a href="#inconfig">InConfig</a></li>
    <li class="level1 nav-node"><a href="#business-rule-tasks-decision-dmns">Business Rule Tasks (Decision DMNs)</a></li>
    <li class="level2 nav-leaf"><a href="#singleentry">singleEntry</a></li>
    <li class="level2 nav-leaf"><a href="#singleresult">singleResult</a></li>
    <li class="level2 nav-leaf"><a href="#collectentries">collectEntries</a></li>
    <li class="level2 nav-leaf"><a href="#resultlist">resultList</a></li>
    <li class="level1 nav-leaf"><a href="#user-task">User Task</a></li>
    <li class="level1 nav-node"><a href="#external-task">External Task</a></li>
    <li class="level2 nav-leaf"><a href="#custom-task">Custom Task</a></li>
    <li class="level2 nav-leaf"><a href="#init-task">Init Task</a></li>
    <li class="level2 nav-leaf"><a href="#service-task">Service Task</a></li>
    <li class="level1 nav-leaf"><a href="#receive-message-event">Receive Message Event</a></li>
    <li class="level1 nav-leaf"><a href="#receive-signal-event">Receive Signal Event</a></li>
    <li class="level1 nav-leaf"><a href="#timer-event">Timer Event</a></li>
  </ul>

  <p class="footer"></p>
</nav>


      <main class="content">

        <h1 id="bpmn-dsl" class="title">BPMN DSL</h1>
        <p>This <em>DSL</em> will bring your domain into your <em>BPMN-Process</em>.</p>
        <p>As the pattern is always the same, we can setup each <em>BPMN Element</em> in the same way.</p>
        <pre><code class="nohighlight"><span class="keyword">object</span><span> </span><span class="type-name">BpmnElement</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">CompanyBpmn</span><span>&lt;</span><span class="type-name">Element</span><span>&gt;</span><span class="type-name">Dsl</span><span>:

  </span><span class="keyword">val</span><span> </span><span class="identifier">processName</span><span> = </span><span class="string-literal">&quot;mycompany-myproject-myelement&quot;</span><span> </span><span class="comment">// depending on the element this can be different
</span><span>  </span><span class="keyword">lazy</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">descr</span><span> = </span><span class="string-literal">&quot;my element...&quot;</span><span>

  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">In</span><span>(...)
  </span><span class="keyword">object</span><span> </span><span class="type-name">In</span><span>:
    </span><span class="identifier">given</span><span> </span><span class="type-name">ApiSchema</span><span>[</span><span class="type-name">In</span><span>] = </span><span class="identifier">deriveApiSchema</span><span>
    </span><span class="identifier">given</span><span> </span><span class="type-name">InOutCodec</span><span>[</span><span class="type-name">In</span><span>] = </span><span class="identifier">deriveInOutCodec</span><span>

  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">Out</span><span>(...)
  </span><span class="keyword">object</span><span> </span><span class="type-name">Out</span><span>:
    </span><span class="identifier">given</span><span> </span><span class="type-name">ApiSchema</span><span>[</span><span class="type-name">Out</span><span>] = </span><span class="identifier">deriveApiSchema</span><span>
    </span><span class="identifier">given</span><span> </span><span class="type-name">InOutCodec</span><span>[</span><span class="type-name">Out</span><span>] = </span><span class="identifier">deriveInOutCodec</span><span>

  </span><span class="keyword">lazy</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">example</span><span> = &lt;</span><span class="identifier">bpmnElement</span><span>&gt;(
    </span><span class="type-name">In</span><span>(),
    </span><span class="type-name">Out</span><span>(),
  )
</span><span class="identifier">end</span><span> </span><span class="type-name">BpmnElement</span></code></pre>
        <p>So each BPMN Element has:</p>
        <ul>
          <li><em>id</em>: a unique identifier, it must be unique within a Camunda Instance.
          Depending on the element this is named differently, e.g. <code>processName</code>, <code>messageName</code> etc.</li>
          <li><em>descr</em>: a description of this element.</li>
          <li><em>In</em>: an input class with the input process variables that we descibed in the <a href="specification.html"><em>Domain Specification</em></a>.</li>
          <li><em>Out</em>: an output class with the output process variables that we descibed in the <a href="specification.html"><em>Domain Specification</em></a>.</li>
          <li><em>example</em>: a method that creates an example of this element.</li>
        </ul>
        
        <h3 id="special-case-enums" class="section"><a class="anchor-link left" href="#special-case-enums"><i class="icofont-laika link">&#xef71;</i></a>Special Case Enums</h3>
        <p>If you have an <em>Enum</em> as an In or Out class, you need to define the example like this:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span>
</span><span class="keyword">lazy</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">example</span><span> = &lt;</span><span class="identifier">bpmnElement</span><span>&gt;(
  </span><span class="type-name">In</span><span>.</span><span class="type-name">CaseA</span><span>(),
  </span><span class="type-name">Out</span><span>.</span><span class="type-name">CaseA</span><span>(),
  ).</span><span class="identifier">withEnumInExamples</span><span>(</span><span class="type-name">In</span><span>.</span><span class="type-name">CaseB</span><span>())
  .</span><span class="identifier">withEnumOutExamples</span><span>(</span><span class="type-name">Out</span><span>.</span><span class="type-name">CaseB</span><span>())</span></code></pre>
        <ul>
          <li>This is needed to document both cases and also to handle them correctly in the <em>Workers</em>.</li>
        </ul>
        <p>We support the following elements:</p>
        
        <h2 id="process" class="section"><a class="anchor-link left" href="#process"><i class="icofont-laika link">&#xef71;</i></a>Process</h2>
        <p>The Process is the main element of a BPMN. 
        It is the most complex element and looks like this:</p>
        <pre><code class="nohighlight"><span class="keyword">object</span><span> </span><span class="type-name">MyProcess</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">CompanyBpmnProcessDsl</span><span>:

  </span><span class="keyword">val</span><span> </span><span class="identifier">processName</span><span> = </span><span class="string-literal">&quot;mycompany-myproject-myprocess&quot;</span><span>
  </span><span class="keyword">lazy</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">descr</span><span> = </span><span class="string-literal">&quot;my process...&quot;</span><span>
  
  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">In</span><span>(
    ...
    </span><span class="identifier">inConfig</span><span>: </span><span class="type-name">Option</span><span>[</span><span class="type-name">InConfig</span><span>] = </span><span class="type-name">None</span><span>
  ) </span><span class="keyword">extends</span><span> </span><span class="type-name">WithConfig</span><span>[</span><span class="type-name">InConfig</span><span>]
  
  </span><span class="keyword">object</span><span> </span><span class="type-name">In</span><span>:
    </span><span class="identifier">given</span><span> </span><span class="type-name">ApiSchema</span><span>[</span><span class="type-name">In</span><span>] = </span><span class="identifier">deriveApiSchema</span><span>
    </span><span class="identifier">given</span><span> </span><span class="type-name">InOutCodec</span><span>[</span><span class="type-name">In</span><span>] = </span><span class="identifier">deriveInOutCodec</span><span>
  
  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">InConfig</span><span>(
    </span><span class="comment">// Process Configuration
</span><span>    ...
    </span><span class="comment">// Mocks
</span><span>    ... )
  </span><span class="keyword">object</span><span> </span><span class="type-name">InConfig</span><span>:
    </span><span class="identifier">given</span><span> </span><span class="type-name">ApiSchema</span><span>[</span><span class="type-name">InConfig</span><span>] = </span><span class="identifier">deriveApiSchema</span><span>
    </span><span class="identifier">given</span><span> </span><span class="type-name">InOutCodec</span><span>[</span><span class="type-name">InConfig</span><span>] = </span><span class="identifier">deriveInOutCodec</span><span>
    
  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">InitIn</span><span>(...)
  </span><span class="keyword">object</span><span> </span><span class="type-name">InitIn</span><span>:
    </span><span class="identifier">given</span><span> </span><span class="type-name">ApiSchema</span><span>[</span><span class="type-name">InitIn</span><span>] = </span><span class="identifier">deriveApiSchema</span><span>
    </span><span class="identifier">given</span><span> </span><span class="type-name">InOutCodec</span><span>[</span><span class="type-name">InitIn</span><span>] = </span><span class="identifier">deriveInOutCodec</span><span>
  
  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">Out</span><span>(...)
  </span><span class="keyword">object</span><span> </span><span class="type-name">Out</span><span>:
    </span><span class="identifier">given</span><span> </span><span class="type-name">ApiSchema</span><span>[</span><span class="type-name">Out</span><span>] = </span><span class="identifier">deriveApiSchema</span><span>
    </span><span class="identifier">given</span><span> </span><span class="type-name">InOutCodec</span><span>[</span><span class="type-name">Out</span><span>] = </span><span class="identifier">deriveInOutCodec</span><span>
  
  </span><span class="keyword">lazy</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">example</span><span> = </span><span class="identifier">process</span><span>(
    </span><span class="type-name">In</span><span>(),
    </span><span class="type-name">Out</span><span>(),
    </span><span class="type-name">InitIn</span><span>()
  )
</span><span class="identifier">end</span><span> </span><span class="type-name">MyProcess</span></code></pre>
        <p>Next to the <em>In</em> and <em>Out</em> classes we have an <em>InitIn</em>-  and <em>InConfig</em> class.</p>
        
        <h3 id="initin" class="section"><a class="anchor-link left" href="#initin"><i class="icofont-laika link">&#xef71;</i></a>InitIn</h3>
        <p>Each process has an <em>InitWorker</em> that is the first worker that is called when the process is started.</p>
        <p>Use this class to:</p>
        <ul>
          <li>init the <em>Process Variables</em> that are needed in the process (e.g. counters, variables used in expressions that must be defined (Camunda 7 restriction)).</li>
          <li>init the <em>Process Variables</em> with default values, that are not provided by the client. 
          So you can be sure that they are always set - from Option to required in the process.</li>
          <li>extract some information from the input variables to simplify the process.</li>
        </ul>
        
        <h3 id="inconfig" class="section"><a class="anchor-link left" href="#inconfig"><i class="icofont-laika link">&#xef71;</i></a>InConfig</h3>
        <p>These are technical <em>Process Variables</em>, like:</p>
        <ul>
          <li>Control the process flow (e.g. timers).</li>
          <li>Mocking of services and sub-processes.</li>
        </ul>
        <div class="callout info">
          <i class="icofont-laika info">&#xef4e;</i>
          <p>The <em>InitWorker</em> will automatically put these variables on the process.
          That means you can override them for example in <em>Postman</em> </p>
          <ul>
            <li>just set them as <em>process variables</em> (<code>inConfig</code> object is not needed).</li>
          </ul>
        </div>
        
        <h2 id="business-rule-tasks-decision-dmns" class="section"><a class="anchor-link left" href="#business-rule-tasks-decision-dmns"><i class="icofont-laika link">&#xef71;</i></a>Business Rule Tasks (Decision DMNs)</h2>
        <p>We support only Decision DMNs.
        The input is always a domain object (each field must be a simple value that matches a column of the dmn).
        As <strong>simple values</strong> we support:</p>
        <ul>
          <li><em>String</em></li>
          <li><em>Boolean</em></li>
          <li><em>Int</em></li>
          <li><em>Long</em></li>
          <li><em>Double</em></li>
          <li><em>java.util.Date</em></li>
          <li><em>java.time.LocalDateTime</em></li>
          <li><em>java.time.ZonedDateTime</em></li>
          <li><em>scala.reflect.Enum</em></li>
        </ul>
        <p>A <strong>domain object</strong> is a case class as described in the <a href="specification.html">Specification</a>, 
        with the exception, that each field must be a <em>simple value</em> that matches a column of the dmn.</p>
        <p>Inputs are always <em>domain objects</em>.</p>
        <p>In the DSL we have an element for each of the four different return types - so you don&#39;t mix up the types 😊.</p>
        
        <h3 id="singleentry" class="section"><a class="anchor-link left" href="#singleentry"><i class="icofont-laika link">&#xef71;</i></a>singleEntry</h3>
        <p>This is a single result with one <em>simple value</em>. </p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">singleEntry</span><span>(
    </span><span class="identifier">in</span><span> = </span><span class="type-name">Input</span><span>(</span><span class="string-literal">&quot;A&quot;</span><span>),
    </span><span class="identifier">out</span><span> = </span><span class="number-literal">1</span><span>
  )</span></code></pre>
        
        <h3 id="singleresult" class="section"><a class="anchor-link left" href="#singleresult"><i class="icofont-laika link">&#xef71;</i></a>singleResult</h3>
        <p>This is a single result with more than one value (<em>domain object</em>).</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">singleResult</span><span>(
    </span><span class="identifier">in</span><span> = </span><span class="type-name">Input</span><span>(</span><span class="string-literal">&quot;A&quot;</span><span>),
    </span><span class="identifier">out</span><span> = </span><span class="type-name">ManyOutResult</span><span>(</span><span class="number-literal">1</span><span>, </span><span class="string-literal">&quot;🤩&quot;</span><span>)
)</span></code></pre>
        
        <h3 id="collectentries" class="section"><a class="anchor-link left" href="#collectentries"><i class="icofont-laika link">&#xef71;</i></a>collectEntries</h3>
        <p>This is a list of <em>simple values</em>.</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">collectEntries</span><span>(
    </span><span class="identifier">in</span><span> = </span><span class="type-name">Input</span><span>(</span><span class="string-literal">&quot;A&quot;</span><span>),
    </span><span class="identifier">out</span><span> = </span><span class="type-name">Seq</span><span>(</span><span class="number-literal">1</span><span>, </span><span class="number-literal">2</span><span>)
  )</span></code></pre>
        
        <h3 id="resultlist" class="section"><a class="anchor-link left" href="#resultlist"><i class="icofont-laika link">&#xef71;</i></a>resultList</h3>
        <p>This is a list of <em>domain objects</em>.</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">resultList</span><span>(
    </span><span class="identifier">in</span><span> = </span><span class="type-name">Input</span><span>(</span><span class="string-literal">&quot;A&quot;</span><span>),
    </span><span class="identifier">out</span><span> = </span><span class="type-name">List</span><span>(</span><span class="type-name">ManyOutResult</span><span>(</span><span class="number-literal">1</span><span>, </span><span class="string-literal">&quot;🤩&quot;</span><span>), </span><span class="type-name">ManyOutResult</span><span>(</span><span class="number-literal">2</span><span>, </span><span class="string-literal">&quot;😂&quot;</span><span>))
  )</span></code></pre>
        
        <h2 id="user-task" class="section"><a class="anchor-link left" href="#user-task"><i class="icofont-laika link">&#xef71;</i></a>User Task</h2>
        <p>A <em>User Task</em> describes its form values that it offers and the values it must be completed with.</p>
        <pre><code class="nohighlight"><span class="keyword">object</span><span> </span><span class="type-name">MyUserTask</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">CompanyBpmnUserTaskDsl</span><span>:

  </span><span class="keyword">val</span><span> </span><span class="identifier">name</span><span> = </span><span class="string-literal">&quot;mycompany-myproject-myusertask&quot;</span><span>
  </span><span class="keyword">val</span><span> </span><span class="identifier">descr</span><span>: </span><span class="type-name">String</span><span> = </span><span class="string-literal">&quot;my user task...&quot;</span><span>
  
  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">In</span><span>(...)
  </span><span class="keyword">object</span><span> </span><span class="type-name">In</span><span>:
    </span><span class="identifier">given</span><span> </span><span class="type-name">ApiSchema</span><span>[</span><span class="type-name">In</span><span>] = </span><span class="identifier">deriveApiSchema</span><span>
    </span><span class="identifier">given</span><span> </span><span class="type-name">InOutCodec</span><span>[</span><span class="type-name">In</span><span>] = </span><span class="identifier">deriveInOutCodec</span><span>
  
  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">Out</span><span>(...)
  </span><span class="keyword">object</span><span> </span><span class="type-name">Out</span><span>:
    </span><span class="identifier">given</span><span> </span><span class="type-name">ApiSchema</span><span>[</span><span class="type-name">Out</span><span>] = </span><span class="identifier">deriveApiSchema</span><span>
    </span><span class="identifier">given</span><span> </span><span class="type-name">InOutCodec</span><span>[</span><span class="type-name">Out</span><span>] = </span><span class="identifier">deriveInOutCodec</span><span>
  
  </span><span class="keyword">lazy</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">example</span><span> = </span><span class="identifier">userTask</span><span>(
    </span><span class="type-name">In</span><span>(),
    </span><span class="type-name">Out</span><span>()
  )
</span><span class="identifier">end</span><span> </span><span class="type-name">MyUserTask</span></code></pre>
        <ul>
          <li>The <code>name</code> is the name of the user task, <strong>be aware</strong> at the moment this is only for documentation.</li>
          <li>A <em>UserTask</em> extends <em>CompanyBpmnUserTaskDsl</em>.</li>
          <li>The <code>In</code> object are the input variables you expect for the UI-Form of the <em>UserTask</em>.</li>
          <li>The <code>Out</code> object are the process variables, the UI-Form sends, when it completes the <em>UserTask</em>.</li>
        </ul>
        
        <h2 id="external-task" class="section"><a class="anchor-link left" href="#external-task"><i class="icofont-laika link">&#xef71;</i></a>External Task</h2>
        <p>An <em>External Task</em> describes a worker.
        We distinguish different types of Tasks, which are described in the next subchapters.</p>
        
        <h3 id="custom-task" class="section"><a class="anchor-link left" href="#custom-task"><i class="icofont-laika link">&#xef71;</i></a>Custom Task</h3>
        <p>A <em>Custom Task</em> is a description for a worker that does some business logic, like mapping.</p>
        <p>In General, you can do whatever you want with a <em>Custom Task</em>. See also <em>CustomWorker</em>.</p>
        <pre><code class="nohighlight"><span class="keyword">object</span><span> </span><span class="type-name">MyCustomTask</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">CompanyBpmnCustomTaskDsl</span><span>:

  </span><span class="keyword">val</span><span> </span><span class="identifier">topicName</span><span> = </span><span class="string-literal">&quot;mycompany-myproject-myprocessV1.MyCustomTask&quot;</span><span>
  </span><span class="keyword">val</span><span> </span><span class="identifier">descr</span><span>: </span><span class="type-name">String</span><span> = </span><span class="string-literal">&quot;my custom task...&quot;</span><span>
  
  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">In</span><span>(...)
  </span><span class="keyword">object</span><span> </span><span class="type-name">In</span><span>:
    </span><span class="identifier">given</span><span> </span><span class="type-name">ApiSchema</span><span>[</span><span class="type-name">In</span><span>] = </span><span class="identifier">deriveApiSchema</span><span>
    </span><span class="identifier">given</span><span> </span><span class="type-name">InOutCodec</span><span>[</span><span class="type-name">In</span><span>] = </span><span class="identifier">deriveInOutCodec</span><span>
  
  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">Out</span><span>(...)
  </span><span class="keyword">object</span><span> </span><span class="type-name">Out</span><span>:
    </span><span class="identifier">given</span><span> </span><span class="type-name">ApiSchema</span><span>[</span><span class="type-name">Out</span><span>] = </span><span class="identifier">deriveApiSchema</span><span>
    </span><span class="identifier">given</span><span> </span><span class="type-name">InOutCodec</span><span>[</span><span class="type-name">Out</span><span>] = </span><span class="identifier">deriveInOutCodec</span><span>
  
  </span><span class="keyword">lazy</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">example</span><span> = </span><span class="identifier">customTask</span><span>(
    </span><span class="type-name">In</span><span>(),
    </span><span class="type-name">Out</span><span>()
  )
</span><span class="identifier">end</span><span> </span><span class="type-name">MyCustomTask</span></code></pre>
        
        <h3 id="init-task" class="section"><a class="anchor-link left" href="#init-task"><i class="icofont-laika link">&#xef71;</i></a>Init Task</h3>
        <p>An <em>Init Task</em> is a description for a worker that initializes a <em>Process</em>.</p>
        <p>In General, you map the <code>In</code> object to the <code>InitIn</code> object like init process variables.
        See also <em>InitWorker</em>.</p>
        <p>So no extra BPMN Element is needed for this, it is automatically defined by the <em>Process</em>.</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">object</span><span> </span><span class="type-name">MyProcess</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">CompanyBpmnProcessDsl</span><span>:
  ...
  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">In</span><span>(
    ...
    </span><span class="identifier">inConfig</span><span>: </span><span class="type-name">Option</span><span>[</span><span class="type-name">InConfig</span><span>] = </span><span class="type-name">None</span><span>
  ) </span><span class="keyword">extends</span><span> </span><span class="type-name">WithConfig</span><span>[</span><span class="type-name">InConfig</span><span>]
  ...  
  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">InitIn</span><span>(...)
  ...
</span><span class="identifier">end</span><span> </span><span class="type-name">MyProcess</span></code></pre>
        
        <h3 id="service-task" class="section"><a class="anchor-link left" href="#service-task"><i class="icofont-laika link">&#xef71;</i></a>Service Task</h3>
        <p>A <em>Service Task</em> is a description for a worker that provides a REST API request.</p>
        <p>See also <em>ServiceWorker</em>.</p>
        <pre><code class="nohighlight"><span class="keyword">object</span><span> </span><span class="type-name">MyServiceTask</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">CompanyBpmnServiceTaskDsl</span><span>:

  </span><span class="keyword">val</span><span> </span><span class="identifier">topicName</span><span> = </span><span class="string-literal">&quot;mycompany-myproject-myservicetask&quot;</span><span>
  </span><span class="keyword">val</span><span> </span><span class="identifier">descr</span><span>: </span><span class="type-name">String</span><span> = </span><span class="string-literal">&quot;my service task...&quot;</span><span>
  </span><span class="keyword">val</span><span> </span><span class="identifier">path</span><span> = </span><span class="string-literal">&quot;POST: /myService&quot;</span><span>

  </span><span class="keyword">type</span><span> </span><span class="type-name">ServiceIn</span><span> = </span><span class="type-name">MyServiceBody</span><span>
  </span><span class="keyword">type</span><span> </span><span class="type-name">ServiceOut</span><span> = </span><span class="type-name">NoOutput</span><span>
  </span><span class="keyword">lazy</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">serviceInExample</span><span> = </span><span class="type-name">MyServiceBody</span><span>()
  </span><span class="keyword">lazy</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">serviceMock</span><span> = </span><span class="type-name">MockedServiceResponse</span><span>.</span><span class="identifier">success204</span><span>

  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">In</span><span>(...)
  </span><span class="keyword">object</span><span> </span><span class="type-name">In</span><span>:
    </span><span class="identifier">given</span><span> </span><span class="type-name">ApiSchema</span><span>[</span><span class="type-name">In</span><span>] = </span><span class="identifier">deriveApiSchema</span><span>
    </span><span class="identifier">given</span><span> </span><span class="type-name">InOutCodec</span><span>[</span><span class="type-name">In</span><span>] = </span><span class="identifier">deriveInOutCodec</span><span>
  
  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">Out</span><span>(...)
  </span><span class="keyword">object</span><span> </span><span class="type-name">Out</span><span>:
    </span><span class="identifier">given</span><span> </span><span class="type-name">ApiSchema</span><span>[</span><span class="type-name">Out</span><span>] = </span><span class="identifier">deriveApiSchema</span><span>
    </span><span class="identifier">given</span><span> </span><span class="type-name">InOutCodec</span><span>[</span><span class="type-name">Out</span><span>] = </span><span class="identifier">deriveInOutCodec</span><span>
  
  </span><span class="keyword">lazy</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">example</span><span> = </span><span class="identifier">serviceTask</span><span>(
    </span><span class="type-name">In</span><span>(),
    </span><span class="type-name">Out</span><span>(),
    </span><span class="identifier">serviceMock</span><span>,
    </span><span class="identifier">serviceInExample</span><span>
  )
</span><span class="identifier">end</span><span> </span><span class="type-name">MyServiceTask</span></code></pre>
        <p>This task is more specific, and so we need to define</p>
        <ul>
          <li>The method and the path of the REST service for the documentation.</li>
          <li>The <em>ServiceIn</em> and <em>ServiceOut</em> types.
          They represent the bodies of the service-request and -response.</li>
          <li>In the <em>example</em> we define also the <em>serviceInExample</em> and the <em>serviceMock</em>.</li>
        </ul>
        <div class="callout info">
          <i class="icofont-laika info">&#xef4e;</i>
          <p>At the moment we only support these 3 types of <em>External Tasks</em>.
          Depending on the use case we can add more types.</p>
        </div>
        
        <h2 id="receive-message-event" class="section"><a class="anchor-link left" href="#receive-message-event"><i class="icofont-laika link">&#xef71;</i></a>Receive Message Event</h2>
        <p>A <em>Receive Message Event</em> represents a catching message event. 
        The input defines the message you expect.
        This works only as intermediate event.
        As we don&#39;t support <em>throwing Message events</em> we can simplify this to <em>messageEvent</em>:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">object</span><span> </span><span class="type-name">MyMessageEvent</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">CompanyBpmnMessageEventDsl</span><span>:

  </span><span class="keyword">val</span><span> </span><span class="identifier">messageName</span><span> = </span><span class="string-literal">&quot;mycompany-myproject-mymessage&quot;</span><span>
  </span><span class="keyword">val</span><span> </span><span class="identifier">descr</span><span>: </span><span class="type-name">String</span><span> = </span><span class="string-literal">&quot;my message...&quot;</span><span>
  
  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">In</span><span>(...)
  </span><span class="keyword">object</span><span> </span><span class="type-name">In</span><span>:
    </span><span class="identifier">given</span><span> </span><span class="type-name">ApiSchema</span><span>[</span><span class="type-name">In</span><span>] = </span><span class="identifier">deriveApiSchema</span><span>
    </span><span class="identifier">given</span><span> </span><span class="type-name">InOutCodec</span><span>[</span><span class="type-name">In</span><span>] = </span><span class="identifier">deriveInOutCodec</span><span>
  
  </span><span class="keyword">lazy</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">example</span><span> = </span><span class="identifier">messageEvent</span><span>(</span><span class="type-name">In</span><span>())
</span><span class="identifier">end</span><span> </span><span class="type-name">MyMessageEvent</span></code></pre>
        <ul>
          <li>The <code>messageName</code> is the name of the message you expect.
          The correlation can be the business key or the process instance id.
          In the <em>Simulation</em> we will use the <em>processInstanceId</em>.</li>
          <li>You can send process variables with the <code>In</code> object.</li>
          <li>A <em>MessageEvent</em> extends <em>CompanyBpmnMessageEventDsl</em>.</li>
        </ul>
        
        <h2 id="receive-signal-event" class="section"><a class="anchor-link left" href="#receive-signal-event"><i class="icofont-laika link">&#xef71;</i></a>Receive Signal Event</h2>
        <p>A <em>Receive Signal Event</em> represents a catching signal event.
        The input defines the signal you expect.
        This works only as intermediate event.
        As we don&#39;t support <em>Throwing Signal events</em> we can simplify this to <em>signalEvent</em>:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">object</span><span> </span><span class="type-name">MySignalEvent</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">CompanyBpmnSignalEventDsl</span><span>:

  </span><span class="keyword">val</span><span> </span><span class="identifier">messageName</span><span> = </span><span class="string-literal">&quot;mycompany-myproject-mysignal-{processInstanceId}&quot;</span><span>
  </span><span class="keyword">val</span><span> </span><span class="identifier">descr</span><span>: </span><span class="type-name">String</span><span> = </span><span class="string-literal">&quot;my signal...&quot;</span><span>

  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">In</span><span>(...)
  </span><span class="keyword">object</span><span> </span><span class="type-name">In</span><span>:
    </span><span class="identifier">given</span><span> </span><span class="type-name">ApiSchema</span><span>[</span><span class="type-name">In</span><span>] = </span><span class="identifier">deriveApiSchema</span><span>
    </span><span class="identifier">given</span><span> </span><span class="type-name">InOutCodec</span><span>[</span><span class="type-name">In</span><span>] = </span><span class="identifier">deriveInOutCodec</span><span>
  
  </span><span class="keyword">lazy</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">example</span><span> = </span><span class="identifier">signalEvent</span><span>(</span><span class="type-name">In</span><span>())
</span><span class="identifier">end</span><span> </span><span class="type-name">MySignalEvent</span></code></pre>
        <ul>
          <li>The <code>messageName</code> is the name of the signal you expect. 
          To correlate the signal to a certain process instance, you can use the <code>{processInstanceId}</code> as a part in the signal name.
          This will be replaced in the <em>Simulation</em> with the actual <em>processInstanceId</em>.</li>
          <li>You can send process variables with the <code>In</code> object.</li>
          <li>A <em>SignalEvent</em> extends <em>CompanyBpmnSignalEventDsl</em>.</li>
        </ul>
        
        <h2 id="timer-event" class="section"><a class="anchor-link left" href="#timer-event"><i class="icofont-laika link">&#xef71;</i></a>Timer Event</h2>
        <p>A <em>Timer Event</em> represents a timer event.
        There is no input needed, you can use it to describe the timers in your API doc, or using them in the Simulations to execute the job of the timer immediately.
        This works only as intermediate event.</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">object</span><span> </span><span class="type-name">MyTimerEvent</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">CompanyBpmnTimerEventDsl</span><span>:

  </span><span class="keyword">val</span><span> </span><span class="identifier">title</span><span> = </span><span class="string-literal">&quot;mycompany-myproject-mytimer&quot;</span><span>
  </span><span class="keyword">val</span><span> </span><span class="identifier">descr</span><span>: </span><span class="type-name">String</span><span> = </span><span class="string-literal">&quot;my timer...&quot;</span><span>
  
  </span><span class="keyword">lazy</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">example</span><span> = </span><span class="identifier">timerEvent</span><span>()
</span><span class="identifier">end</span><span> </span><span class="type-name">MyTimerEvent</span><span>  </span></code></pre>

        
<hr class="footer-rule"/>
<footer>
  Site generated by <a href="https://typelevel.org/Laika/">Laika</a> with the Helium theme.
</footer>


      </main>

    </div>

  </body>

</html>